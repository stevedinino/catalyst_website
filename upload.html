<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Upload | Catalyst Legal Nurse Consulting</title>
  <link rel="stylesheet" href="styles/base.css" />
  <link rel="stylesheet" href="styles/layout.css" />
  <link rel="stylesheet" href="styles/mobile.css" />
</head>
<body>
  <header>
    <div class="logo">
      <a href="index.html"><img src="images/logo.png" alt="Catalyst Logo" /></a>
    </div>
    <nav class="main-nav">
      <ul class="nav-links">
        <li><a href="about.html">About</a></li>
        <li><a href="services.html">Services</a></li>
        <li><a href="testimonials.html">Testimonials</a></li>
        <li><a href="upload.html">Upload</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li><a href="privacy.html">Privacy</a></li>
        <li><a href="faq.html">FAQ</a></li>
      </ul>
    </nav>
  </header>

  <div class="upload-wrapper">
    <main class="content">
      <h1>Secure Document Upload</h1>
      <p><strong>Maximum file size: 200MB. Only PDF files are accepted.</strong></p>

      <form action="upload-handler.php" method="post" enctype="multipart/form-data" id="uploadForm">
        <div class="form-grid">
          <div class="form-pair">
            <label for="name">Your Name:</label>
            <input type="text" id="name" name="name" required
              pattern="[A-Za-z\s]+"
              title="Use letters and spaces only" />
          </div>
          <div class="form-pair">
            <label for="email">Your Email:</label>
            <input type="email" id="email" name="email" required />
          </div>
          <div class="form-pair">
            <label for="firm">Law Firm:</label>
            <input type="text" id="firm" name="firm" required
              pattern="[A-Za-z0-9\s]+"
              title="Use letters, numbers, and spaces only" />
          </div>
          <div class="form-pair">
            <label for="phone">Phone Number:</label>
            <input type="text" id="phone" name="phone" required
              title="Enter a valid phone number with 10â€“20 digits"
              maxlength="20" />
          </div>
          <div class="form-pair">
            <label for="case">Case Type:</label>
            <select id="case" name="case" required>
              <option value="">-- Select a Case Type --</option>
              <option value="Wound Care">Wound Care</option>
              <option value="Long-Term Care">Long-Term Care</option>
              <option value="Hospice or Palliative">Hospice or Palliative</option>
              <option value="Compliance Review">Compliance Review</option>
              <option value="Medication Error">Medication Error</option>
              <option value="Fall or Injury">Fall or Injury</option>
              <option value="Staffing or Supervision">Staffing or Supervision</option>
              <option value="Regulatory Violation">Regulatory Violation</option>
              <option value="Other">Other</option>
            </select>
          </div>
          <div class="form-pair">
            <label for="notes">Notes:</label>
            <textarea id="notes" name="notes" rows="4" maxlength="1000"></textarea>
          </div>
        </div>

        <hr class="form-divider" />

        <div class="file-upload-row">
          <label for="file">Upload File:</label>
          <input type="file" id="file" name="file" accept=".pdf" />
        </div>

        <div class="form-submit">
          <button type="submit">Submit</button>
        </div>
      </form>

      <p>If you prefer to send documents via encrypted email, contact Janet directly at
        <a href="mailto:janet@catalystlegalnurse.com">janet@catalystlegalnurse.com</a>.
      </p>
    </main>

    <aside class="sidebar">
      <img src="images/frontpage.png" alt="Legal Nurse Consulting" />
    </aside>
  </div>

  <footer>
    <p>&copy; 2025 Catalyst Legal Nurse Consulting of SC, LLC</p>
  </footer>

  <script>
    document.getElementById('uploadForm').addEventListener('submit', function(e) {
      const form = this;
      const inputs = form.querySelectorAll('input, select, textarea');
      let allValid = true;

      inputs.forEach(input => {
        if (!input.checkValidity()) {
          allValid = false;
          input.reportValidity();
        }
      });

      if (!allValid) {
        e.preventDefault();
        return;
      }

      // Phone number digit count validation
      const phoneInput = document.getElementById('phone');
      const digitsOnly = phoneInput.value.replace(/\D/g, '');
      if (digitsOnly.length < 10 || digitsOnly.length > 20) {
        e.preventDefault();
        alert("Phone number must contain between 10 and 20 digits.");
        phoneInput.focus();
        return;
      }

      // File validation only if a file is selected
      const fileInput = document.getElementById('file');
      if (fileInput.files.length > 0) {
        const file = fileInput.files[0];
        const maxSize = 200 * 1024 * 1024;
        const allowedTypes = ['application/pdf'];

        if (!allowedTypes.includes(file.type)) {
          e.preventDefault();
          alert("Only PDF files are allowed.");
          return;
        }

        if (file.size > maxSize) {
          e.preventDefault();
          alert("File exceeds the 200MB limit. Please upload a smaller PDF.");
          return;
        }
      }
    });
  </script>
</body>
</html>